[[_gitlab]]
=== GitLab

Giải pháp Git tự lưu trữ phổ biến nhất cho đến nay là GitLab.
GitLab là một ứng dụng web lõi mở để cộng tác trên mã, tương tự như GitHub hoặc BitBucket.
Đó là một ứng dụng bạn chạy trên phần cứng của riêng mình, vì vậy bạn hoàn toàn kiểm soát nó; bạn có thể chạy nó trên một bản phân phối Linux tiêu chuẩn hoặc một container Docker.
Sự khác biệt chính giữa GitLab và các giải pháp khác là nó là lõi mở (vì vậy nếu bạn có khuynh hướng, bạn có thể giúp phát triển hoặc sửa đổi nó) và nó đi kèm với rất nhiều tính năng mà nếu không sẽ yêu cầu tích hợp với các sản phẩm bên ngoài.

GitLab có một giải pháp quản lý kho lưu trữ đầy đủ tính năng, bao gồm kiểm soát truy cập chi tiết, giao diện web đẹp để xem xét mã và yêu cầu hợp nhất, theo dõi vấn đề, wiki và một hệ thống tích hợp liên tục (CI) mạnh mẽ được tích hợp sẵn.
Hầu hết những điều này đều có sẵn trong phiên bản "`Community Edition`" mã nguồn mở, nhưng có nhiều tính năng hơn và hợp đồng hỗ trợ có sẵn với phiên bản "`Enterprise Edition`".

Việc thiết lập khá đơn giản.
Có một số tùy chọn tải xuống tại https://about.gitlab.com/downloads/[^], trong đó phổ biến nhất là gói Omnibus, chứa tất cả các dịch vụ cần thiết trong một gói duy nhất.
Khi bạn đã chạy nó, hầu hết việc quản trị được thực hiện thông qua giao diện web.

[[gitlab_menu]]
.Menu quản trị GitLab
image::images/gitlab-menu.png[Menu quản trị GitLab]

Quản lý người dùng của GitLab khá đơn giản.
Người dùng có thể là người dùng chung với không gian tên cá nhân cho các dự án của riêng họ, hoặc quản trị viên có quyền truy cập vào mọi thứ.
Người dùng có thể được tạo bởi một quản trị viên, hoặc họ có thể tự đăng ký tài khoản của riêng mình.
Người dùng có thể được cấp quyền truy cập vào các dự án trên cơ sở cá nhân, hoặc là một phần của một nhóm.

[[gitlab_users]]
.Màn hình quản trị người dùng GitLab
image::images/gitlab-users.png[Màn hình quản trị người dùng GitLab]

===== Các Nhóm

Một nhóm GitLab là một tập hợp các dự án, cùng với dữ liệu về cách người dùng có thể truy cập các dự án đó.
Mỗi nhóm có một không gian tên dự án (giống như cách người dùng làm), vì vậy nếu nhóm `training` có một dự án `materials`, URL của nó sẽ là `http://server/training/materials`.

[[gitlab_groups]]
.Màn hình quản trị nhóm GitLab
image::images/gitlab-groups.png[Màn hình quản trị nhóm GitLab]

Mỗi nhóm được liên kết với một số người dùng, mỗi người dùng có một mức độ quyền hạn đối với các dự án của nhóm và chính nhóm đó.
Các quyền này từ "Guest" (vấn đề và trò chuyện) đến "Owner" (kiểm soát hoàn toàn).
Các mức độ quyền hạn khác nhau được ghi lại khá chi tiết trong tài liệu GitLab.

===== Các Dự án

Một dự án GitLab là một kho lưu trữ Git duy nhất.
Nó thuộc về một không gian tên duy nhất, hoặc là người dùng hoặc là nhóm.
Nếu nó thuộc về một người dùng, những người duy nhất có quyền truy cập theo mặc định là chủ sở hữu dự án và các quản trị viên hệ thống.
Nếu nó thuộc về một nhóm, tất cả người dùng được liên kết với nhóm đó sẽ có quyền truy cập, theo mức độ quyền hạn của họ.

Các dự án có thể được đánh dấu là "Private", "Internal", hoặc "Public".

* Các dự án công khai (Public) có thể được nhìn thấy bởi mọi người, và có thể được sao chép bởi bất kỳ ai mà không cần xác thực.
* Các dự án nội bộ (Internal) có thể được nhìn thấy bởi bất kỳ người dùng nào đã đăng nhập.
* Các dự án riêng tư (Private) chỉ có thể được nhìn thấy bởi các thành viên của chúng (hoặc là một cách rõ ràng, hoặc là một phần của một nhóm).

Quyền truy cập được kiểm soát bằng các khóa SSH (như chúng ta đã thảo luận trước đó trong chương), hoặc thông qua tên người dùng và mật khẩu (có thể được tích hợp với một máy chủ thư mục LDAP hoặc công ty khác).

===== Cộng tác

Bây giờ bạn đã thiết lập một dự án, bạn có thể sẽ muốn thực hiện một số cộng tác trên đó.
Một dự án trong GitLab chỉ là một kho lưu trữ Git thông thường, vì vậy bạn có thể sao chép nó, đẩy lên nó, v.v.
Giao diện web cũng cung cấp một số công cụ để giúp bạn cộng tác.

Mỗi dự án có một bức tường, hơi giống như dòng thời gian trên một dịch vụ truyền thông xã hội.
Đó là một bảng điều khiển về hoạt động gần đây trong dự án.

[[gitlab_wall]]
.Một bức tường dự án trong GitLab
image::images/gitlab-wall.png[Một bức tường dự án trong GitLab]

Mỗi dự án cũng có một trình theo dõi vấn đề, nơi bạn có thể báo cáo các vấn đề với mã hoặc bắt đầu các cuộc thảo luận.

[[gitlab_issues]]
.Trình theo dõi vấn đề trong GitLab
image::images/gitlab-issues.png[Trình theo dõi vấn đề trong GitLab]

Tính năng phổ biến nhất của GitLab cho đến nay là yêu cầu hợp nhất.
Đó là một cách để thảo luận về các thay đổi được đề xuất trong mã, và tương tự như Yêu cầu Kéo của GitHub hoặc xem xét thay đổi của Gerrit.
Nó cho phép bất kỳ người dùng nào có thể xem một dự án tạo một bản sao của nó, đẩy các thay đổi vào bản sao đó, và sau đó mở một yêu cầu để các thay đổi của họ được hợp nhất vào dự án chính.
Tác giả ban đầu có thể được chỉ định cho yêu cầu, và một cuộc thảo luận có thể diễn ra xung quanh thay đổi cho đến khi tác giả hài lòng với nó và hợp nhất thay đổi.

[[gitlab_mergereq]]
.Một Yêu cầu Hợp nhất trong GitLab
image::images/gitlab-mergereq.png[Một Yêu cầu Hợp nhất trong GitLab]