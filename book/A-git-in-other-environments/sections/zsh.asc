=== Git trong Zsh

(((zsh)))(((tab completion, zsh)))(((shell prompts, zsh)))
Zsh cũng đi kèm với một thư viện tab-completion cho Git.
Để sử dụng nó, chỉ cần chạy `autoload -Uz compinit && compinit` trong `.zshrc` của bạn.
Giao diện của Zsh mạnh mẽ hơn một chút so với Bash:

[source,console]
----
$ git che<tab>
check-attr        -- display gitattributes information
check-ref-format  -- ensure that a reference name is well formed
checkout          -- checkout branch or paths to working tree
checkout-index    -- copy files from index to working directory
cherry            -- find commits not merged upstream
cherry-pick       -- apply changes introduced by some existing commits
----

Các tab-completion không rõ ràng không chỉ được liệt kê; chúng có các mô tả hữu ích, và bạn có thể điều hướng danh sách bằng đồ họa bằng cách nhấn tab lặp đi lặp lại.
Điều này hoạt động với các lệnh Git, các đối số của chúng, và tên của các thứ bên trong kho chứa (như refs và remotes), cũng như tên tập tin và tất cả những thứ khác mà Zsh biết cách tab-complete.

Zsh đi kèm với một framework để lấy thông tin từ các hệ thống kiểm soát phiên bản, gọi là `vcs_info`.
Để bao gồm tên nhánh trong dấu nhắc ở phía bên phải, hãy thêm các dòng này vào tập tin `~/.zshrc` của bạn:

[source,console]
----
autoload -Uz vcs_info
precmd_vcs_info() { vcs_info }
precmd_functions+=( precmd_vcs_info )
setopt prompt_subst
RPROMPT='${vcs_info_msg_0_}'
# PROMPT='${vcs_info_msg_0_}%# '
zstyle ':vcs_info:git:*' formats '%b'
----

Điều này dẫn đến việc hiển thị nhánh hiện tại ở phía bên phải của cửa sổ terminal, bất cứ khi nào shell của bạn ở bên trong một kho chứa Git.
Phía bên trái cũng được hỗ trợ, tất nhiên; chỉ cần bỏ comment gán cho `PROMPT`.
Nó trông hơi giống như thế này:

.Dấu nhắc `zsh` tùy chỉnh
image::images/zsh-prompt.png[Dấu nhắc `zsh` tùy chỉnh]

Để biết thêm thông tin về `vcs_info`, hãy kiểm tra tài liệu của nó trong trang hướng dẫn `zshcontrib(1)`, hoặc trực tuyến tại https://zsh.sourceforge.io/Doc/Release/User-Contributions.html#Version-Control-Information[^].

Thay vì `vcs_info`, bạn có thể thích tập tin kịch bản tùy chỉnh dấu nhắc đi kèm với Git, gọi là `git-prompt.sh`; xem https://github.com/git/git/blob/master/contrib/completion/git-prompt.sh[^] để biết chi tiết.
`git-prompt.sh` tương thích với cả Bash và Zsh.

Zsh đủ mạnh mẽ để có toàn bộ các framework dành riêng để làm cho nó tốt hơn.
Một trong số đó được gọi là "oh-my-zsh", và nó có thể được tìm thấy tại https://github.com/ohmyzsh/ohmyzsh[^].
Hệ thống plugin của oh-my-zsh đi kèm với tab-completion Git mạnh mẽ, và nó có nhiều "theme" dấu nhắc, nhiều trong số đó hiển thị dữ liệu kiểm soát phiên bản.
<<oh_my_zsh_git>> chỉ là một ví dụ về những gì có thể được thực hiện với hệ thống này.

[[oh_my_zsh_git]]
.Một ví dụ về theme oh-my-zsh
image::images/zsh-oh-my.png[Một ví dụ về theme oh-my-zsh]
