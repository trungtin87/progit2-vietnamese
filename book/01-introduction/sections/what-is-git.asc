[[what_is_git_section]]
=== Git là gì?

Vậy, Git là gì một cách ngắn gọn?
Đây là một phần quan trọng để tiếp thu, bởi vì nếu bạn hiểu Git là gì và các nguyên tắc cơ bản về cách nó hoạt động, thì việc sử dụng Git hiệu quả có lẽ sẽ dễ dàng hơn nhiều đối với bạn.
Khi bạn học Git, hãy cố gắng xóa sạch tâm trí của bạn khỏi những điều bạn có thể biết về các VCS khác, chẳng hạn như CVS, Subversion hoặc Perforce -- làm như vậy sẽ giúp bạn tránh sự nhầm lẫn tinh tế khi sử dụng công cụ.
Mặc dù giao diện người dùng của Git khá giống với các VCS khác này, Git lưu trữ và suy nghĩ về thông tin theo một cách rất khác, và việc hiểu những khác biệt này sẽ giúp bạn tránh bị nhầm lẫn khi sử dụng nó.(((Subversion)))(((Perforce)))

==== Ảnh chụp nhanh, Không phải Sự khác biệt

Sự khác biệt chính giữa Git và bất kỳ VCS nào khác (Subversion và bạn bè bao gồm) là cách Git suy nghĩ về dữ liệu của nó.
Về mặt khái niệm, hầu hết các hệ thống khác lưu trữ thông tin dưới dạng danh sách các thay đổi dựa trên tệp.
Các hệ thống khác này (CVS, Subversion, Perforce, v.v.) nghĩ về thông tin mà chúng lưu trữ như một tập hợp các tệp và các thay đổi được thực hiện đối với mỗi tệp theo thời gian (điều này thường được mô tả là kiểm soát phiên bản _dựa trên delta_).

.Lưu trữ dữ liệu dưới dạng các thay đổi đối với phiên bản cơ sở của mỗi tệp
image::images/deltas.png[Lưu trữ dữ liệu dưới dạng các thay đổi đối với phiên bản cơ sở của mỗi tệp]

Git không nghĩ hoặc lưu trữ dữ liệu của nó theo cách này.
Thay vào đó, Git nghĩ về dữ liệu của nó giống như một loạt các ảnh chụp nhanh của một hệ thống tệp thu nhỏ.
Với Git, mỗi khi bạn cam kết, hoặc lưu trạng thái của dự án của bạn, Git về cơ bản chụp một bức ảnh về tất cả các tệp của bạn trông như thế nào tại thời điểm đó và lưu trữ một tham chiếu đến ảnh chụp nhanh đó.
Để hiệu quả, nếu các tệp không thay đổi, Git không lưu trữ lại tệp, chỉ là một liên kết đến tệp giống hệt trước đó mà nó đã lưu trữ.
Git nghĩ về dữ liệu của nó giống như một *luồng ảnh chụp nhanh*.

.Lưu trữ dữ liệu dưới dạng ảnh chụp nhanh của dự án theo thời gian
image::images/snapshots.png[Git lưu trữ dữ liệu dưới dạng ảnh chụp nhanh của dự án theo thời gian]

Đây là một sự khác biệt quan trọng giữa Git và gần như tất cả các VCS khác.
Nó làm cho Git xem xét lại gần như mọi khía cạnh của kiểm soát phiên bản mà hầu hết các hệ thống khác sao chép từ thế hệ trước.
Điều này làm cho Git giống như một hệ thống tệp nhỏ với một số công cụ cực kỳ mạnh mẽ được xây dựng trên đó, thay vì chỉ đơn giản là một VCS.
Chúng tôi sẽ khám phá một số lợi ích bạn đạt được bằng cách suy nghĩ về dữ liệu của bạn theo cách này khi chúng tôi đề cập đến phân nhánh Git trong <<ch03-git-branching#ch03-git-branching>>.

==== Gần như Mọi Thao tác Đều Cục bộ

Hầu hết các thao tác trong Git chỉ cần các tệp và tài nguyên cục bộ để hoạt động -- thường không cần thông tin từ một máy tính khác trên mạng của bạn.
Nếu bạn quen với CVCS nơi hầu hết các thao tác có chi phí độ trễ mạng đó, khía cạnh này của Git sẽ khiến bạn nghĩ rằng các vị thần tốc độ đã ban phước cho Git với sức mạnh siêu nhiên.
Bởi vì bạn có toàn bộ lịch sử của dự án ngay tại đó trên đĩa cục bộ của bạn, hầu hết các thao tác dường như gần như tức thì.

Ví dụ, để duyệt lịch sử của dự án, Git không cần phải ra ngoài máy chủ để lấy lịch sử và hiển thị nó cho bạn -- nó chỉ đơn giản là đọc nó trực tiếp từ cơ sở dữ liệu cục bộ của bạn.
Điều này có nghĩa là bạn thấy lịch sử dự án gần như ngay lập tức.
Nếu bạn muốn xem các thay đổi được giới thiệu giữa phiên bản hiện tại của một tệp và tệp một tháng trước, Git có thể tra cứu tệp một tháng trước và thực hiện tính toán sự khác biệt cục bộ, thay vì phải yêu cầu máy chủ từ xa làm điều đó hoặc kéo một phiên bản cũ hơn của tệp từ máy chủ từ xa để làm điều đó cục bộ.

Điều này cũng có nghĩa là có rất ít điều bạn không thể làm nếu bạn ngoại tuyến hoặc tắt VPN.
Nếu bạn lên máy bay hoặc tàu hỏa và muốn làm một chút việc, bạn có thể cam kết vui vẻ (vào bản sao _cục bộ_ của bạn, nhớ chứ?) cho đến khi bạn có kết nối mạng để tải lên.
Nếu bạn về nhà và không thể làm cho ứng dụng khách VPN của bạn hoạt động đúng, bạn vẫn có thể làm việc.
Trong nhiều hệ thống khác, làm như vậy là không thể hoặc đau đớn.
Ví dụ, trong Perforce, bạn không thể làm được nhiều khi bạn không được kết nối với máy chủ; trong Subversion và CVS, bạn có thể chỉnh sửa tệp, nhưng bạn không thể cam kết các thay đổi vào cơ sở dữ liệu của mình (vì cơ sở dữ liệu của bạn ngoại tuyến).
Điều này có thể không có vẻ như một vấn đề lớn, nhưng bạn có thể ngạc nhiên về sự khác biệt lớn mà nó có thể tạo ra.

==== Git Có Tính Toàn vẹn

Mọi thứ trong Git được kiểm tra tổng kiểm tra trước khi nó được lưu trữ và sau đó được tham chiếu bởi tổng kiểm tra đó.
Điều này có nghĩa là không thể thay đổi nội dung của bất kỳ tệp hoặc thư mục nào mà Git không biết về nó.
Chức năng này được tích hợp vào Git ở các cấp thấp nhất và là một phần không thể thiếu trong triết lý của nó.
Bạn không thể mất thông tin trong quá trình truyền hoặc bị hỏng tệp mà Git không thể phát hiện nó.

Cơ chế mà Git sử dụng cho tổng kiểm tra này được gọi là băm SHA-1.(((SHA-1)))
Đây là một chuỗi 40 ký tự được tạo thành từ các ký tự thập lục phân (0–9 và a–f) và được tính toán dựa trên nội dung của một tệp hoặc cấu trúc thư mục trong Git.
Băm SHA-1 trông giống như thế này:

[source]
----
24b9da6552252987aa493b52f8696cd6d3b00373
----

Bạn sẽ thấy các giá trị băm này ở khắp mọi nơi trong Git vì nó sử dụng chúng rất nhiều.
Trên thực tế, Git lưu trữ mọi thứ trong cơ sở dữ liệu của nó không phải bằng tên tệp mà bằng giá trị băm của nội dung của nó.

==== Git Thường Chỉ Thêm Dữ liệu

Khi bạn thực hiện các hành động trong Git, gần như tất cả chúng chỉ _thêm_ dữ liệu vào cơ sở dữ liệu Git.
Thật khó để làm cho hệ thống làm bất cứ điều gì không thể hoàn tác hoặc làm cho nó xóa dữ liệu theo bất kỳ cách nào.
Như với bất kỳ VCS nào, bạn có thể mất hoặc làm hỏng các thay đổi bạn chưa cam kết, nhưng sau khi bạn cam kết một ảnh chụp nhanh vào Git, rất khó để mất, đặc biệt nếu bạn thường xuyên đẩy cơ sở dữ liệu của mình sang một kho lưu trữ khác.

Điều này làm cho việc sử dụng Git trở thành một niềm vui vì chúng ta biết chúng ta có thể thử nghiệm mà không có nguy cơ làm hỏng mọi thứ nghiêm trọng.
Để xem xét sâu hơn về cách Git lưu trữ dữ liệu của nó và cách bạn có thể khôi phục dữ liệu có vẻ bị mất, hãy xem <<ch02-git-basics-chapter#_undoing>>.

==== Ba Trạng thái

Hãy chú ý bây giờ -- đây là điều chính cần nhớ về Git nếu bạn muốn phần còn lại của quá trình học tập của bạn diễn ra suôn sẻ.
Git có ba trạng thái chính mà các tệp của bạn có thể cư trú trong: _modified_ (đã sửa đổi), _staged_ (đã tổ chức), và _committed_ (đã cam kết):

* Modified có nghĩa là bạn đã thay đổi tệp nhưng chưa cam kết nó vào cơ sở dữ liệu của bạn.
* Staged có nghĩa là bạn đã đánh dấu một tệp đã sửa đổi ở phiên bản hiện tại của nó để đưa vào ảnh chụp nhanh cam kết tiếp theo của bạn.
* Committed có nghĩa là dữ liệu được lưu trữ an toàn trong cơ sở dữ liệu cục bộ của bạn.

Điều này dẫn chúng ta đến ba phần chính của một dự án Git: cây làm việc, khu vực tổ chức và thư mục Git.

.Cây làm việc, khu vực tổ chức và thư mục Git
image::images/areas.png["Cây làm việc, khu vực tổ chức và thư mục Git"]

Cây làm việc là một lần kiểm xuất duy nhất của một phiên bản của dự án.
Các tệp này được kéo ra khỏi cơ sở dữ liệu nén trong thư mục Git và được đặt trên đĩa để bạn sử dụng hoặc sửa đổi.

Khu vực tổ chức là một tệp, thường được chứa trong thư mục Git của bạn, lưu trữ thông tin về những gì sẽ đi vào cam kết tiếp theo của bạn.
Tên kỹ thuật của nó trong thuật ngữ Git là "`index`", nhưng cụm từ "`staging area`" cũng hoạt động tốt.

Thư mục Git là nơi Git lưu trữ siêu dữ liệu và cơ sở dữ liệu đối tượng cho dự án của bạn.
Đây là phần quan trọng nhất của Git, và đó là những gì được sao chép khi bạn _sao chép_ một kho lưu trữ từ một máy tính khác.

Quy trình làm việc Git cơ bản diễn ra như thế này:

1. Bạn sửa đổi các tệp trong cây làm việc của bạn.
2. Bạn chọn lọc tổ chức chỉ những thay đổi bạn muốn là một phần của cam kết tiếp theo của bạn, điều này chỉ thêm _những_ thay đổi đó vào khu vực tổ chức.
3. Bạn thực hiện một cam kết, lấy các tệp như chúng đang ở trong khu vực tổ chức và lưu trữ ảnh chụp nhanh đó vĩnh viễn vào thư mục Git của bạn.

Nếu một phiên bản cụ thể của một tệp nằm trong thư mục Git, nó được coi là _committed_.
Nếu nó đã được sửa đổi và đã được thêm vào khu vực tổ chức, nó là _staged_.
Và nếu nó đã được thay đổi kể từ khi nó được kiểm xuất nhưng chưa được tổ chức, nó là _modified_.
Trong <<ch02-git-basics-chapter#ch02-git-basics-chapter>>, bạn sẽ tìm hiểu thêm về các trạng thái này và cách bạn có thể tận dụng chúng hoặc bỏ qua phần staged hoàn toàn.
