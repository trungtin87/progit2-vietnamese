[[_first_time]]
=== Thiết lập Git Lần đầu

Bây giờ bạn đã có Git trên hệ thống của mình, bạn sẽ muốn làm một vài điều để tùy chỉnh môi trường Git của mình.
Bạn chỉ nên làm những điều này một lần trên bất kỳ máy tính nào; chúng sẽ tồn tại giữa các lần nâng cấp.
Bạn cũng có thể thay đổi chúng bất cứ lúc nào bằng cách chạy lại các lệnh.

Git đi kèm với một công cụ gọi là `git config` cho phép bạn nhận và đặt các biến cấu hình kiểm soát tất cả các khía cạnh về cách Git trông và hoạt động.(((git commands, config)))
Các biến này có thể được lưu trữ ở ba nơi khác nhau:

1. Tệp `[path]/etc/gitconfig`: Chứa các giá trị được áp dụng cho mọi người dùng trên hệ thống và tất cả các kho lưu trữ của họ.
  Nếu bạn chuyển tùy chọn `--system` cho `git config`, nó sẽ đọc và ghi từ tệp này cụ thể.
  Bởi vì đây là tệp cấu hình hệ thống, bạn sẽ cần quyền quản trị hoặc siêu người dùng để thực hiện thay đổi đối với nó.
2. Tệp `~/.gitconfig` hoặc `~/.config/git/config`: Các giá trị cụ thể cho cá nhân bạn, người dùng.
  Bạn có thể làm cho Git đọc và ghi vào tệp này cụ thể bằng cách chuyển tùy chọn `--global`, và điều này ảnh hưởng đến _tất cả_ các kho lưu trữ bạn làm việc trên hệ thống của mình.
3. Tệp `config` trong thư mục Git (nghĩa là `.git/config`) của bất kỳ kho lưu trữ nào bạn đang sử dụng: Cụ thể cho kho lưu trữ duy nhất đó.
  Bạn có thể buộc Git đọc từ và ghi vào tệp này bằng tùy chọn `--local`, nhưng thực tế đó là mặc định.
  Không ngạc nhiên, bạn cần phải ở đâu đó trong một kho lưu trữ Git để tùy chọn này hoạt động bình thường.

Mỗi cấp độ ghi đè các giá trị ở cấp độ trước đó, vì vậy các giá trị trong `.git/config` thắng các giá trị trong `[path]/etc/gitconfig`.

Trên hệ thống Windows, Git tìm kiếm tệp `.gitconfig` trong thư mục `$HOME` (`C:\Users\$USER` cho hầu hết mọi người).
Nó cũng vẫn tìm kiếm `[path]/etc/gitconfig`, mặc dù nó tương đối với gốc MSys, là bất cứ nơi nào bạn quyết định cài đặt Git trên hệ thống Windows của mình khi bạn chạy trình cài đặt.
Nếu bạn đang sử dụng phiên bản 2.x trở lên của Git cho Windows, cũng có một tệp cấu hình cấp hệ thống tại `C:\Documents and Settings\All Users\Application Data\Git\config` trên Windows XP, và trong `C:\ProgramData\Git\config` trên Windows Vista và mới hơn.
Tệp cấu hình này chỉ có thể được thay đổi bởi `git config -f <file>` với tư cách là quản trị viên.

Bạn có thể xem tất cả các cài đặt của mình và chúng đến từ đâu bằng cách sử dụng:

[source,console]
----
$ git config --list --show-origin
----

==== Danh tính của Bạn

Điều đầu tiên bạn nên làm khi cài đặt Git là đặt tên người dùng và địa chỉ email của bạn.
Điều này quan trọng vì mọi cam kết Git đều sử dụng thông tin này và nó được gắn chặt vào các cam kết bạn bắt đầu tạo:

[source,console]
----
$ git config --global user.name "John Doe"
$ git config --global user.email johndoe@example.com
----

Một lần nữa, bạn chỉ cần làm điều này một lần nếu bạn chuyển tùy chọn `--global`, bởi vì sau đó Git sẽ luôn sử dụng thông tin đó cho người dùng của bạn trên hệ thống đó.
Nếu bạn muốn ghi đè điều này bằng một tên hoặc địa chỉ email khác cho các dự án cụ thể, bạn có thể chạy lệnh mà không có tùy chọn `--global` khi bạn đang ở trong dự án đó.

Nhiều công cụ GUI sẽ giúp bạn làm điều này khi bạn chạy chúng lần đầu tiên.

[[_editor]]
==== Trình soạn thảo của Bạn

Bây giờ danh tính của bạn đã được thiết lập, bạn có thể cấu hình trình soạn thảo văn bản mặc định sẽ được sử dụng khi Git cần bạn nhập tin nhắn.
Nếu không được cấu hình, Git sử dụng trình soạn thảo mặc định của hệ thống của bạn.

Nếu bạn muốn sử dụng một trình soạn thảo văn bản khác, chẳng hạn như Emacs, bạn có thể làm như sau:

[source,console]
----
$ git config --global core.editor emacs
----

Trên hệ thống Windows, nếu bạn muốn sử dụng một trình soạn thảo văn bản khác, bạn phải chỉ định đường dẫn đầy đủ đến tệp thực thi của nó.
Điều này có thể khác nhau tùy thuộc vào cách trình soạn thảo của bạn được đóng gói.

Trong trường hợp của Notepad++, một trình soạn thảo lập trình phổ biến, bạn có thể muốn sử dụng phiên bản 32-bit, vì tại thời điểm viết bài, phiên bản 64-bit không hỗ trợ tất cả các plug-in.
Nếu bạn đang ở trên hệ thống Windows 32-bit, hoặc bạn có một trình soạn thảo 64-bit trên hệ thống 64-bit, bạn sẽ nhập một cái gì đó như thế này:

[source,console]
----
$ git config --global core.editor "'C:/Program Files/Notepad++/notepad++.exe' -multiInst -notabbar -nosession -noPlugin"
----

[NOTE]
====
Vim, Emacs và Notepad++ là các trình soạn thảo văn bản phổ biến thường được sử dụng bởi các nhà phát triển trên các hệ thống dựa trên Unix như Linux và macOS hoặc một hệ thống Windows.
Nếu bạn đang sử dụng một trình soạn thảo khác, hoặc một phiên bản 32-bit, vui lòng tìm hướng dẫn cụ thể về cách thiết lập trình soạn thảo yêu thích của bạn với Git trong <<C-git-commands#ch_core_editor>>.
====

[WARNING]
====
Bạn có thể thấy, nếu bạn không thiết lập trình soạn thảo của mình như thế này, bạn sẽ rơi vào trạng thái thực sự khó hiểu khi Git cố gắng khởi chạy nó.
Một ví dụ trên hệ thống Windows có thể bao gồm một hoạt động Git bị chấm dứt sớm trong quá trình chỉnh sửa do Git khởi tạo.
====

[[_new_default_branch]]
==== Tên nhánh mặc định của bạn

Theo mặc định, Git sẽ tạo một nhánh có tên là _master_ khi bạn tạo một kho lưu trữ mới với `git init`.
Từ phiên bản Git 2.28 trở đi, bạn có thể đặt một tên khác cho nhánh ban đầu.

Để đặt _main_ làm tên nhánh mặc định, hãy làm:

[source,console]
----
$ git config --global init.defaultBranch main
----

==== Kiểm tra Cài đặt của Bạn

Nếu bạn muốn kiểm tra cài đặt cấu hình của mình, bạn có thể sử dụng lệnh `git config --list` để liệt kê tất cả các cài đặt mà Git có thể tìm thấy tại thời điểm đó:

[source,console]
----
$ git config --list
user.name=John Doe
user.email=johndoe@example.com
color.status=auto
color.branch=auto
color.interactive=auto
color.diff=auto
...
----

Bạn có thể thấy các khóa nhiều hơn một lần, bởi vì Git đọc cùng một khóa từ các tệp khác nhau (`[path]/etc/gitconfig` và `~/.gitconfig`, chẳng hạn).
Trong trường hợp này, Git sử dụng giá trị cuối cùng cho mỗi khóa duy nhất mà nó nhìn thấy.

Bạn cũng có thể kiểm tra xem Git nghĩ giá trị của một khóa cụ thể là gì bằng cách nhập `git config <key>`:(((git commands, config)))

[source,console]
----
$ git config user.name
John Doe
----

[NOTE]
====
Vì Git có thể đọc cùng một giá trị biến cấu hình từ nhiều hơn một tệp, có thể bạn có một giá trị không mong muốn cho một trong những giá trị này và bạn không biết tại sao.
Trong những trường hợp như vậy, bạn có thể truy vấn Git về _nguồn gốc_ cho giá trị đó, và nó sẽ cho bạn biết tệp cấu hình nào có tiếng nói cuối cùng trong việc thiết lập giá trị đó:

[source,console]
----
$ git config --show-origin rerere.autoUpdate
file:/home/johndoe/.gitconfig	false
----
====
