[[ch04-git-on-the-server]]
== Git trên máy chủ

(((serving repositories)))
Ở giai đoạn này, bạn nên đã nắm được hầu hết các thao tác hàng ngày khi dùng Git.
Tuy nhiên, để cộng tác với người khác bằng Git, bạn cần có một kho Git từ xa.
Dù về mặt kỹ thuật bạn có thể push và pull trực tiếp tới các kho cá nhân của từng người, cách làm này thường không được khuyến khích vì có thể dễ gây nhầm lẫn về công việc của họ nếu không cẩn thận.
Hơn nữa, bạn sẽ muốn đồng nghiệp có thể truy cập kho kể cả khi máy của bạn offline — vì vậy một kho chung đáng tin cậy thường hữu ích.
Do đó, cách ưu tiên để cộng tác là thiết lập một kho trung gian mà cả hai cùng truy cập, và push/pull từ kho đó.

Việc chạy một máy chủ Git khá đơn giản.
Đầu tiên, bạn chọn các giao thức mà máy chủ sẽ hỗ trợ.
Phần đầu của chương này sẽ trình bày các giao thức sẵn có và ưu/nhược điểm của từng loại.
Các phần tiếp theo sẽ giải thích một số cấu hình điển hình dùng những giao thức đó và cách để máy chủ của bạn chạy với chúng.
Cuối cùng, chúng tôi sẽ xem qua một vài lựa chọn dịch vụ lưu trữ nếu bạn không muốn tự quản lý máy chủ và sẵn sàng đặt mã lên máy chủ của bên thứ ba.

Nếu bạn không muốn chạy máy chủ riêng, bạn có thể bỏ qua đến phần cuối chương để xem các lựa chọn thiết lập tài khoản được host rồi tiếp tục sang chương tiếp theo về các luồng làm việc phân tán.

Một kho từ xa thường là một _bare repository_ — một kho Git không có thư mục làm việc.
Vì kho này chỉ được dùng làm điểm cộng tác, không cần phải có snapshot được checkout trên đĩa; nó chỉ chứa dữ liệu Git.
Nói đơn giản, một bare repository chính là nội dung trong thư mục `.git` của dự án và không có gì khác.

include::book/04-git-server/sections/protocols.asc[]

include::book/04-git-server/sections/git-on-a-server.asc[]

include::book/04-git-server/sections/generating-ssh-key.asc[]

include::book/04-git-server/sections/setting-up-server.asc[]

include::book/04-git-server/sections/git-daemon.asc[]

include::book/04-git-server/sections/smart-http.asc[]

include::book/04-git-server/sections/gitweb.asc[]

include::book/04-git-server/sections/gitlab.asc[]

include::book/04-git-server/sections/hosted.asc[]

=== Tóm tắt

Bạn có nhiều lựa chọn để thiết lập một kho Git từ xa để cộng tác hoặc chia sẻ công việc.

Tự chạy máy chủ cho bạn nhiều quyền kiểm soát và cho phép chạy trong firewall của tổ chức, nhưng thường tốn thời gian thiết lập và bảo trì.
Nếu đặt dữ liệu trên dịch vụ host, việc thiết lập và bảo trì dễ dàng hơn; tuy nhiên bạn phải chấp nhận lưu mã trên máy chủ của bên khác, điều mà một số tổ chức không cho phép.

Bây giờ bạn nên có đủ thông tin để chọn giải pháp (hoặc kết hợp giải pháp) phù hợp với bạn và tổ chức của bạn.
